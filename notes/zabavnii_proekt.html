<!DOCTYPE html>
<html class=" " lang="ru">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

		<title>Веб-проект для души | Забавный проект</title>
		<meta name="description" content="">

		<meta name="HandheldFriendly" content="True">
		<meta name="MobileOptimized" content="320">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<link rel="shortcut icon" href="resources/favicon.ico">

		<link rel="stylesheet" type="text/css" href="resources/normalize.css">
		<link rel="stylesheet" type="text/css" href="resources/nprogress.css">
		<link rel="stylesheet" type="text/css" href="resources/style.css">
		<link rel="stylesheet" type="text/css" href="resources/css.css">
		<link rel="stylesheet" type="text/css" href="resources/font-awesome.css">

		<script type="text/javascript" src="resources/hyphenator.js"></script>
	</head>

	<body class="home-template">

		<div id="wrapper">
			<header class="site-header">
				<div class="container">
					<div class="site-title-wrapper">
						<h1 class="site-title">
							<a class="js-ajax-link" title="К последней записке" href="latest.html">Веб-проект для души</a>
						</h1>
						<a class="button-square js-ajax-link js-show-index" title="Содержание" href="content.html"><i class="fa fa-bars"></i></a>
					</div>
				</div>
			</header>
		
			<div id="ajax-container" style="display: block;">
				
			<div id="latest-post" class="container" style="display: block;">
			<article class="post-container post">
				<header class="post-header">
					<h1 class="post-title donthyphenate">Забавный проект</h1>

					<p class="post-date"><time datetime="Sat May 25 2019 17:17:02 GMT+0300 (MSK)">25.05.2019</time></p>
				</header>

				<div class="post-content clearfix hyphenate" style="text-align: justify">
					
<h1>Личный архив страниц из интернета?</h1>

<p>Я человек любопытный и нередко нахожу страничку интернете, которые не очень попялурны, но при этом в будущем я хотел бы посерьезнее изучить. Вы можете подумать, ну сделай закладку и делов. Но проблема в том что люди просто переносят, удаляют, меняют эти странички. И остается это чувство... я сошел с ума и мне приснилась та статья? Может её не было никогда?</p>

<p>Идея в том что нужно просто скопировать всякие картинки, стили, javascript по соотстветствующему адресу и как-то их аккуратно сохранить чтобы открывать локально. Ну и потому еще как их сделать доступными легко с любого компьютера. Ну к сути, я нашел прекрасный проект под названием <a href="https://archivebox.io/">ArchiveBox</a>, который создавался почти один в один под мои запросы.</p>

<p>Я долго маялся, зная что мне надо будет разобраться как лучше использовать этот проект у себя на сервере. Установка различных приложений с базой данных и прочим может быть откровенной головной болью. Пользователи, пакеты, настройки, недокументированные временные файлы... много мест накосячить. Потому я с самого начала намеревался использовать контейнеризацию, что для обычного программиста звучит как <a href="https://www.docker.com/">Docker</a>.</p>

<h1>Не все VPS поддержавают контейнеры...</h1>

<p>Это стало для меня новостью после нескольких безуспешных часов с обновления Ubuntu, и попытками запустить базовый образ для проверки работоспособности Docker. Так как я использую фактически виртуальный сервер (<b>V</b>irtual <b>P</b>rivate <b>S</b>erver), то они создаются на базе специального программного обеспечения со своими стандартами, как OpenVZ, KVM.</p>

<p>Общение с тех.поддержкой подтвердило мои подозрения и мне пришлось обновить сервер буквально отказавшись от всех старых данных, настроек и прочего. Но после заказа нового хостинга я смог получить работающую контейнеризацию. И теперь я могу вызывать со своего сервера образ проекта по арзивации веб-страниц и не заваливать все непонятным зависимостями и файликами.</p>

<h1>Не так быстро</h1>

<p>Так для результатов работы <b>ArchiveBox</b> я решил использовать папку которую в контейнер я монтировал на этапе запуска архивации. И оказалось что моя папка не соответствует правам доступа пользователя от которого запускается основной процесс образа. Есть грубый вариант дать доступе к папке для ВСЕХ (как я сделал первоначально), а по факту надо было дать доступ на запись группе docker на сервере.</p>

<p>Так же имейте ввиду что архив создается, на века! Там есть и pdf-версия, и какие-то специальные архивные форматы, так что сложные странички легко могут потребовать гигабайт места на жестком диске. Но сейчас 21 век и это стоит копейки в сравнении с началом 3 тысячетелия.</p>

<p>Так же мне потребовалось сделать маленькую модификацию работы веб-сервера, чтобы он сам создавал index-content при просмотре папок с архивным данными.</p>

<h1>Немного о грустном</h1>

<p>Если вы скачали страницу с ошибкой, хотите что-то удалить, исправить. То я реально без понятия как это сделать без полной установки проекта на ваш сервер. Когда мне потребовалось удалить неудачные данные, то я просто снес интересующие меня папки и руками отредактировал основную страницу со списком архивированных данных. Кривота конечно, но я просто буду осмотрительнее выбирать адреса в следующий раз.</p>

				</div>

				<footer class="post-footer clearfix">
				</footer>
			</article>
			</div>

		</div>
	</div>

		<footer class="footer">
			<div class="container">
				<div class="site-title-wrapper">
					<h1 class="site-title" style="height:30px; overflow:hidden;">
						<a class="js-ajax-link" title="К последней записке" href="latest.html">Веб-проект для души</a>
					</h1>
					<h1 class="site-title" style="height:30px; overflow:hidden;">
						<a class="button-square button-jump-top js-jump-top" title="В начало" href="#"><i class="fa fa-angle-up"></i></a>
					</h1>
				</div>

				<p class="footer-copyright">
					Федор Русак © 2019 / <a href="https://github.com/roryg/ghostwriter">Ghostwriter тема</a> от <a href="http://jollygoodthemes.com/">JollyGoodThemes</a>
				</p>
			</div>
		</footer>

	</body>
</html>